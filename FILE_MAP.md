# é¡¹ç›®æ–‡ä»¶æ˜ å°„ (File Map)

æœ¬æ–‡æ¡£æ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½ç‰¹å®šåŠŸèƒ½çš„ä»£ç ä½ç½®ã€‚

## ğŸš€ æ ¸å¿ƒå…¥å£ (Entry Points)

| åŠŸèƒ½æè¿° | æ–‡ä»¶è·¯å¾„ | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **ç¨‹åºå…¥å£** | `src/index.tsx` | æŒ‚è½½ React åº”ç”¨ï¼Œå¼•å…¥å…¨å±€ CSS |
| **ä¸»æ¸¸æˆç»„ä»¶/çŠ¶æ€ç®¡ç†** | `src/GameComponent.tsx` | React UI ä¸ Canvas æ¸¸æˆçš„è¿æ¥æ¡¥æ¢ï¼Œç®¡ç† UI çŠ¶æ€ (State) |

---

## âš™ï¸ æ¸¸æˆå¼•æ“ä¸ç³»ç»Ÿ (Core Engine & Systems)

æ ¸å¿ƒé€»è¾‘å±‚ï¼Œä¸åŒ…å« React ä»£ç ï¼Œè´Ÿè´£æ¯å¸§çš„è¿ç®—ã€‚

| åŠŸèƒ½æè¿° | æ–‡ä»¶è·¯å¾„ | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **æ¸¸æˆä¸»å¾ªç¯/æ€»æ§** | `src/core/Game.ts` | è´Ÿè´£åˆå§‹åŒ–ã€`update` å¾ªç¯ã€`draw` è°ƒç”¨ |
| **åœ°å›¾æ¸²æŸ“ç³»ç»Ÿ** | `src/core/systems/MapRenderer.ts` | ç»˜åˆ¶æ— é™åœ°å›¾èƒŒæ™¯ã€åœ°ç –ã€è£…é¥°ç‰© |
| **ç”Ÿæˆç³»ç»Ÿ (åˆ·æ€ª/æ‰è½)** | `src/core/systems/SpawnSystem.ts` | æ§åˆ¶æ€ªç‰©åˆ·æ–°æ³¢æ¬¡ã€ç‰©å“ç”Ÿæˆ |
| **ç¢°æ’ä¸æˆ˜æ–—ç³»ç»Ÿ** | `src/core/systems/CollisionSystem.ts` | å¤„ç†æ‰€æœ‰ç¢°æ’æ£€æµ‹ã€ä¼¤å®³è®¡ç®—ã€æ‹¾å–é€»è¾‘ |
| **è¾“å…¥æ§åˆ¶** | `src/core/InputHandler.ts` | ç›‘å¬é”®ç›˜äº‹ä»¶ (WASD/æ–¹å‘é”®) |
| **éŸ³é¢‘ç®¡ç†** | `src/core/SoundManager.ts` | è´Ÿè´£æ’­æ”¾éŸ³æ•ˆå’Œåˆæˆå£°éŸ³ |
| **ç²’å­ç³»ç»Ÿ** | `src/core/ParticleSystem.ts` | è´Ÿè´£ç‰¹æ•ˆç²’å­ (çˆ†ç‚¸ã€è¡€è¿¹ç­‰) |
| **å…ƒè¿›ç¨‹/å­˜æ¡£ç®¡ç†** | `src/core/ProgressionManager.ts` | ç®¡ç†æœ¬åœ°å­˜æ¡£ã€é‡‘å¸ã€æ°¸ä¹…å‡çº§è´­ä¹° |

---

## ğŸ‘¾ æ¸¸æˆå®ä½“ (Entities)

æ¸¸æˆä¸­çš„å…·ä½“å¯¹è±¡é€»è¾‘ (è¡Œä¸º)ã€‚

| å®ä½“ | é€»è¾‘æ–‡ä»¶ (Behavior) | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **ç©å®¶** | `src/entities/Player.ts` | ç§»åŠ¨ã€å±æ€§è®¡ç®—ã€åŠ¨ç”»çŠ¶æ€æœº |
| **æ€ªç‰©** | `src/entities/Enemy.ts` | å¯»è·¯ã€çŠ¶æ€æ•ˆæœ (ç‡ƒçƒ§/å‡é€Ÿ)ã€ç»˜åˆ¶ |
| **æ­¦å™¨ (æ§åˆ¶å™¨)** | `src/entities/Weapon.ts` | å†·å´è®¡ç®—ã€å‘å°„é€»è¾‘ã€å‡çº§åº”ç”¨ |
| **æŠ€èƒ½ (æ§åˆ¶å™¨)** | `src/entities/Skill.ts` | ä¸»åŠ¨/è¢«åŠ¨æŠ€èƒ½é€»è¾‘ |
| **æŠ•å°„ç‰© (å­å¼¹)** | `src/entities/Projectile.ts` | ç›´çº¿é£è¡Œçš„å­å¼¹ |
| **ç‰¹æ®ŠæŠ•å°„ç‰©** | `src/entities/*Projectile.ts` | `Boomerang`, `Laser`, `Homing` ç­‰ç‰¹æ®Šé€»è¾‘ |
| **å®ç®±** | `src/entities/Chest.ts` | å®ç®±å®ä½“é€»è¾‘ |

---

## ğŸ“Š æ•°æ®é…ç½® (Data & Config)

**åœ¨æ­¤å¤„ä¿®æ”¹æ•°å€¼ã€å¹³è¡¡æ€§ã€æ–‡æœ¬å’Œèµ„æºè·¯å¾„ã€‚**

| æ•°æ®ç±»å‹ | é…ç½®æ–‡ä»¶ | å†…å®¹ç¤ºä¾‹ |
| :--- | :--- | :--- |
| **æ¸¸æˆå…¨å±€é…ç½®** | `src/data/gameConfig.ts` | **åˆ·æ€ªæ—¶é—´è¡¨ (SPAWN_SCHEDULE)**, å‡çº§ç»éªŒè¡¨ |
| **ç©å®¶åŸºç¡€å±æ€§** | `src/data/playerData.ts` | åŸºç¡€è¡€é‡ã€é€Ÿåº¦ |
| **è§’è‰²/è‹±é›„é…ç½®** | `src/data/characterData.ts` | è§’è‰²åˆ—è¡¨ã€åˆå§‹æ­¦å™¨ã€å±æ€§ä¿®æ­£ã€åŠ¨ç”»å¸§ |
| **æ€ªç‰©å±æ€§** | `src/data/enemyData.ts` | è¡€é‡ã€ä¼¤å®³ã€é€Ÿåº¦ã€æ‰è½ç‡ã€ç²¾è‹±æ€ªå±æ€§ |
| **æ­¦å™¨å±æ€§** | `src/data/weaponData.ts` | ä¼¤å®³ã€å†·å´ã€ç©¿é€ã€å…³è”éŸ³æ•ˆ |
| **æ­¦å™¨å‡çº§è·¯çº¿** | `src/data/upgradeData.ts` | å®šä¹‰æ¯æŠŠæ­¦å™¨ 1-9 çº§çš„å…·ä½“æå‡æ•°å€¼ |
| **æŠ€èƒ½å±æ€§** | `src/data/skillData.ts` | æŠ€èƒ½åŸºç¡€æ•°å€¼ |
| **æŠ€èƒ½å‡çº§è·¯çº¿** | `src/data/skillUpgradeData.ts` | æŠ€èƒ½å‡çº§æ•ˆæœ |
| **å…ƒè¿›ç¨‹å‡çº§ (å•†åº—)** | `src/data/metaUpgradeData.ts` | å†›æ¢°åº“ä¸­çš„å•†å“ã€ä»·æ ¼ã€å±æ€§ |
| **å®ç®±æ‰è½** | `src/data/lootData.ts` | å®ç®±å¼€å‡ºçš„é‡‘å¸èŒƒå›´ã€å‡çº§æ¦‚ç‡ |
| **åœ°å›¾é…ç½®** | `src/data/mapData.ts` | åœ°å›¾é¢œè‰²ã€è£…é¥°ç‰©ç±»å‹ |
| **éŸ³é¢‘è·¯å¾„** | `src/data/soundData.ts` | éŸ³æ•ˆæ–‡ä»¶æ˜ å°„ |

---

## ğŸ–¥ï¸ UI ç»„ä»¶ (Components)

### å±å¹• (Screens)
| ç•Œé¢ | æ–‡ä»¶è·¯å¾„ | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **å¼€å§‹/ä¸»èœå•** | `src/components/StartScreen.tsx` | æ¸¸æˆå¯åŠ¨é¡µ |
| **è§’è‰²é€‰æ‹©** | `src/components/CharacterSelect.tsx` | é€‰æ‹©è‹±é›„ |
| **åœ°å›¾é€‰æ‹©** | `src/components/MapSelect.tsx` | é€‰æ‹©å…³å¡ |
| **åˆ›é€ æ¨¡å¼è®¾ç½®** | `src/components/CreativeSetup.tsx` | è‡ªå®šä¹‰åˆå§‹è£…å¤‡ç­‰çº§ |
| **å†›æ¢°åº“ (å•†åº—)** | `src/components/Armory.tsx` | è´­ä¹°æ°¸ä¹…å‡çº§ |
| **æ¸¸æˆç»“æŸ** | `src/components/GameOverScreen.tsx` | ç»“ç®—é¢æ¿ |

### å¼¹çª—ä¸æ‚¬æµ®å±‚ (Overlays)
| ç»„ä»¶ | æ–‡ä»¶è·¯å¾„ | å¤‡æ³¨ |
| :--- | :--- | :--- |
| **HUD (æŠ¬å¤´æ˜¾ç¤º)** | `src/components/HUD.tsx` | è¡€æ¡ã€ç»éªŒæ¡ã€æ—¶é—´ã€è£…å¤‡æ  |
| **å‡çº§é€‰æ‹©** | `src/components/LevelUpModal.tsx` | 3é€‰1 å‡çº§å¼¹çª— |
| **æš‚åœèœå•** | `src/components/PauseMenu.tsx` | æš‚åœæ—¶æ˜¾ç¤º |
| **å¤æ´»ç¡®è®¤** | `src/components/ReviveModal.tsx` | æ­»äº¡æ—¶å¤æ´»å€’è®¡æ—¶ |
| **å®ç®±åŠ¨ç”»** | `src/components/TreasureSequence.tsx` | å¼€ç®±åŠ¨ç”»åºåˆ— |
| **å›¾é‰´** | `src/components/Codex.tsx` | æŸ¥çœ‹æ­¦å™¨/æ€ªç‰©ä¿¡æ¯ |

---

## ğŸ¨ æ ·å¼ (Styles)

| æ ·å¼æ–‡ä»¶ | ä½œç”¨èŒƒå›´ |
| :--- | :--- |
| `src/styles/base.css` | å…¨å±€é‡ç½®ã€Canvas å®šä½ã€å˜é‡å®šä¹‰ |
| `src/styles/buttons.css` | é€šç”¨æŒ‰é’®æ ·å¼ (æœå†»æŒ‰é’®ã€èƒ¶å›ŠæŒ‰é’®) |
| `src/styles/startScreen.css` | å¼€å§‹ç•Œé¢ä¸“ç”¨ (Candy Pop ä¸»é¢˜åŠ¨ç”») |
| `src/styles/gameOver.css` | ç»“ç®—ç•Œé¢ä¸“ç”¨ |
| `src/styles/hud.css` | æ¸¸æˆå†… HUD å¸ƒå±€ |
| `src/styles/menus.css` | é€šç”¨èœå•å®¹å™¨ã€å¡ç‰‡æ ·å¼ |
| `src/styles/components.css` | ç‰¹æ®Šç»„ä»¶æ ·å¼ (å®ç®±åŠ¨ç”»ã€è°ƒè¯•æŒ‰é’®) |
| `src/styles/animations.css` | å…¨å±€å…³é”®å¸§åŠ¨ç”» (`@keyframes`) |

---

## ğŸŒ å›½é™…åŒ– (Localization)

*   `public/locales/en.json`: è‹±æ–‡æ–‡æœ¬
*   `public/locales/zh-CN.json`: ä¸­æ–‡æ–‡æœ¬
*   `src/core/i18n.ts`: ç¿»è¯‘ç®¡ç†å™¨é€»è¾‘
