# ⚙️ 全局游戏配置文档

> 本文档详细记录了游戏的核心配置参数和计算公式。

---

## 📌 概述

游戏配置分布在多个文件中，本文档汇总最关键的数值。

---

## 📈 经验升级曲线

### 公式

```
XP_LEVELS[level] = 50 + level × 30 + min(level² × 0.5, 500)
```

### 分段解析

| 等级区间 | 公式 | 增长特点 |
|:---|:---|:---|
| 1-10 | 50 + level×30 + level²×0.5 | 初期平缓 |
| 10-31 | 50 + level×30 + level²×0.5 | 二次增长 |
| 32+ | 50 + level×30 + 500 | 线性增长 (软上限) |

### 经验需求表

| 等级 | 升级所需XP | 累计XP |
|:---:|:---:|:---:|
| 1→2 | 80 | 80 |
| 2→3 | 112 | 192 |
| 5→6 | 193 | 697 |
| 10→11 | 380 | 2,205 |
| 20→21 | 810 | 10,810 |
| 30→31 | 1,350 | 29,250 |
| 50→51 | 2,080 | 75,480 |
| 100→101 | 3,580 | 229,400 |

---

## 🎮 系统限制

| 配置项 | 值 | 说明 |
|:---|:---:|:---|
| 武器槽位 | 6 | 最多携带6把武器 |
| 技能槽位 | 6 | 最多携带6个技能 |
| 敌人上限 | 300 | 超过后停止刷怪 |
| 探索点上限 | 2 | 场上最多2个探索点 |
| 升级选项 | 3 | 每次升级展示3个选项 |

---

## ⏱️ 时间相关

| 配置项 | 值 | 说明 |
|:---|:---:|:---|
| 精英怪启动 | 300秒 (5分钟) | 之后有10%概率生成精英 |
| BGM强度渐变 | 0-300秒 | 从0%渐变到100% |
| 事件初始冷却 | 60秒 | 第一个随机事件前的安全期 |
| 事件间隔 | 45-90秒 | 随机事件之间的间隔 |
| 围攻持续 | 15秒 | 围攻事件持续时间 |

---

## 💰 经济系统

### 宝箱掉落表 (CHEST_LOOT_TABLE)

| 奖励类型 | 数量/范围 | 备注 |
|:---|:---|:---|
| 金币 | min-max (配置) | 受玩家金币倍率影响 |
| 经验球 | 按配置掉落 | 多种类型 |
| 随机升级 | 有概率触发 | 非进化时 |

### 探索点奖励

| 奖励 | 数值 |
|:---|:---:|
| 治疗 | 100% 最大生命 |
| 经验 | 500 XP |
| 金币 | 250 |

---

## 📊 道具数据

| 道具ID | 类型 | 效果 | 数值 |
|:---|:---|:---|:---:|
| HEALTH_POTION | 治疗 | 恢复生命 | 30% 最大生命 |
| GOLD_COIN | 金币 | 获得金币 | 10 |

---

## 🎯 投射物参数

### 默认值

| 参数 | 典型值 | 说明 |
|:---|:---:|:---|
| 速度 | 300-700 | 像素/秒 |
| 大小 | 10-20 | 像素 |
| 穿透 | 1-5 | 可穿透敌人数 |
| 射程 | 600-1200 | 像素 |

---

## 🎨 视觉参数

### 经验球类型

| 类型 | 经验值 | 大小 | 颜色 |
|:---|:---:|:---:|:---|
| SMALL | 1 | 8 | 蓝色 |
| MEDIUM | 5 | 12 | 绿色 |
| LARGE | 25 | 16 | 紫色 |

---

## 🗺️ 地图配置

| 地图ID | 刷怪时间表 | 基础颜色 |
|:---|:---|:---|
| FOREST | FOREST_NORMAL | 森林绿 |
| CRYPT | CRYPT_HARD | 地牢灰 |

---

## ✅ 已确认实现

| 项目 | 实现详情 |
|:---|:---|
| 生成时间表 | `spawnData.ts` 定义 `SPAWN_SCHEDULES` (已删除 `gameConfig.ts` 中的废弃版本) |
| 宝箱掉落配置 | `lootData.ts` 定义 `CHEST_LOOT_TABLE`（金币 50-150，XP球，100% 升级） |

---

## 📝 配置文件位置

```
src/data/gameConfig.ts      # 经验曲线、旧版刷怪表
src/data/lootData.ts        # 宝箱掉落配置
src/data/xpOrbData.ts       # 经验球类型
src/data/itemData.ts        # 道具配置
src/data/mapData.ts         # 地图配置
```
